#!name=App Unlocks
#!desc=App Subscription Unlocks

[Script]
# RC-GN
type=http-response, pattern= ^https?:\/\/(api\.(revenuecat|rc-backup)|isi\.csan\.goodnotes)\.com\/.+\/(receipts$|subscribers\/?(.*?)*$|offers$), script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/AutoRC.js, requires-body=true

# Adapty
type=http-response, pattern= ^https?:\/\/api\.adapty\.io\/api\/v\d\/sdk\/(analytics\/profiles|in-apps\/(apple\/receipt\/validate|purchase-containers)|purchase\/app-store), script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/Adapty.js, requires-body=true

# Facemoji
type=http-response, pattern= ^https?:\/\/order\.creativeappnow\.com\/iap\/receipt, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/Facemoji.js, requires-body=true

# Readdle
type=http-response, pattern= ^https:\/\/license\.pdfexpert\.com\/api\/2\.0\/(calendarslite|pdfexpert6|documents)\/subscription\/(refresh|check), script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/readdle.js, requires-body=true

# iTunes
type=http-response, pattern= ^https?:\/\/buy\.itunes\.apple\.com\/verifyReceipt$, script-path=https://raw.githubusercontent.com/chxm1023/Rewrite/refs/heads/main/iTunes.js, requires-body=true

# Grammarly
type=http-response, pattern= ^https?:\/\/subscription\.grammarly\.com\/api\/v1\/subscription$, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/Grammarly.js, requires-body=true

# eSound
type=http-response, pattern= ^https?:\/\/api\.esound\.app\/account, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/eSound.js, requires-body=true

# Purchasely
type=http-response, pattern= ^https?:\/\/api\.purchasely\.io\/paab\/user_purchases, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/purchasely.js, requires-body=true

# Vaia (StudySmarter)
type=http-response, pattern= ^https?:\/\/prod\.studysmarter\.de\/payments\/info, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/Vaia.js, requires-body=true

# Qonversion
type=http-response, pattern= ^https?:\/\/api\.qonversion\.io\/v1\/user\/init, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/qonversion.js, requires-body=true

# Fantastical
type=http-response, pattern= ^https:\/\/api\.flexibits\.com\/(v1\/auth\/device|v1\/account\/details), script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/fantastical.js, requires-body=true

# VivaCut
type=http-response, pattern= ^https?:\/\/api-fra\.vivacut\.com\/api\/rest\/commerce\/integrate\/vip\/perform, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/VivaCut.js, requires-body=true

# CarrotWeather
type=http-response, pattern= ^https?:\/\/carrotweather\.herokuapp\.com\/parse\/functions\/findSubscriptionsForUserId, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/Carrot.js, requires-body=true

# KineMaster
type=http-response, pattern= ^https?:\/\/api-account\.kinemasters\.com\/v2\/user\/subscribe, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/KineMaster.js, requires-body=true

# PicsArt (http-request)
http-request ^https?:\/\/api\.picsart\.com\/gw-v2\/shop\/subscription\/apple\/purchases, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/PicsArt.js, requires-body=true

# AlightMotion
type=http-response, pattern= ^https?:\/\/us-central1-alight-creative\.cloudfunctions\.net\/getAccountStatusAndLicenses, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/AlightMotion.js, requires-body=true

# SongShift
type=http-response, pattern= ^https?:\/\/subscriptions\.songshift\.com\/validate, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/SongShift.js, requires-body=true

# AdblockPro
type=http-response, pattern= ^https?:\/\/api\.adblockpro\.app\/verify, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/AdblockPro.js, requires-body=true

# AdGuard
type=http-response, pattern= ^https:\/\/mobile-api\.adguard\.org\/api\/.+\/ios_validate_receipt\/(.*?), script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/AdGuardPro.js, requires-body=true

# Tripsy
type=http-response, pattern= ^https?:\/\/firstclass\.tripsy\.app\/api\/v1\/(receipt\/update|me)\??.*, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/Tripsy.js, requires-body=true

# NotBoring
type=http-response, pattern= ^https?:\/\/api-weather\.andy\.works\/v1\/checkSubscriptions, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/notboring.js, requires-body=true

# Mimo
type=http-response, pattern= ^https?:\/\/api\.getmimo\.com\/v1\/subscriptions, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/Mimo.js, requires-body=true

# iMe
type=http-response, pattern= ^https?:\/\/api\.imem\.apple\.app\/api\/premium\/getOwnStatus, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/iMe.js, requires-body=true

# MyFitnessPal
type=http-response, pattern= ^https?:\/\/premium-api\.myfitnesspal\.com\/v\d\/subscriptions\/MFP\/.*, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/MFP.js, requires-body=true

# SleepCycle
type=http-response, pattern= ^https?:\/\/ch\.sleepcycle\.com\/api\/v\d\/subscription\/get?, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/SleepCycle.js, requires-body=true

# DeepFaker
type=http-response, pattern= ^https?:\/\/api\.deepfaker\.app\/api\/v1\/account\/update-profile, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/DeepFaker.js, requires-body=true

# TrueCaller
type=http-response, pattern= ^https?:\/\/premium-(.+)\.truecaller\.com\/v\d\/(subscriptions|products\/apple)?, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/Truecaller.js, requires-body=true

# Photomath
type=http-response, pattern= ^https?:\/\/lapi\.photomath\.net\/v4\/me, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/photomath.js, requires-body=true

# Pillow
type=http-response, pattern= ^https:\/\/api\.revenuecat\.com\/v1\/(subscribers|receipts), script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/pillow.js, requires-body=true

# CodyCross
type=http-response, pattern= ^https:\/\/game\.codycross.*\/(Reward\/Claim\/.*|reward\/claim\/you_won|Powerup\/Consume|Player\/AppAberto|streak\/puzzlecomplete|subscription\/get|shorttrackevent\/playereventprogress|shorttrackevent\/.*progresso|shorttrackevent\/collectchest|shorttrackevent\/buyenergy)$, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/Codycross.js, requires-body=true

# Facer
type=http-response, pattern= ^https:\/\/.*facer\.io\/parse\/(functions\/(getWatchface|getSubscriptionStatus|isAdmin)|users\/me|functions\/fetchUser)$, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/Facer.js, requires-body=true

# iOSGods
type=http-response, pattern= ^https:\/\/iosgods\.com\/menu\/igauthads\.js, requires-body=trueon$, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/iosgodsgrps.js, requires-body=true
type=http-response, pattern= ^https:\/\/iosgods\.com\/api\/core\/me$, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/iosgodsprem.js, requires-body=true

# Adobe
type=http-response, pattern= ^https:\/\/lcs-mobile-cops\.adobe\.io\/mobile_profile\/nul\/v2$, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/Adobe.js, requires-body=true
type=http-response, pattern= ^https:\/\/createpdf\.acrobat\.com\/createpdf\/api\/users\/me\/subscriptions$, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/AdobeScanPdf.js, requires-body=true

# AccuWeather
type=http-response, pattern= ^https:\/\/app-subscription-proxy\.accuweather\.com\/subscriptions\/v1\/apple\/validate$, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/Accuweather.js, requires-body=true

# Endel
type=http-response, pattern= ^https?:\/\/api-production\.endel\.io\/v\d\/call, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/Endel.js, requires-body=true

# Emby
type=http-response, pattern= ^https:\/\/mb3admin\.com\/admin\/service(\/registration\/validateDevice|\/appstore\/register|\/registration\/validate|\/registration\/getStatus|\/supporter\/retrievekey), script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/Emby.js, requires-body=true

# CamScanner
type=http-response, pattern= ^https:\/\/.*\.(intsig\.net|camscanner\.com), script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/CamScanner.js, requires-body=true

# Retake
type=http-response, pattern= ^https:\/\/purchase-verifier\.cdwapi\.com\/ios$, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/retake.js, requires-body=true

# Footpath
type=http-response, pattern= ^https:\/\/api\.footpathapp\.com\/v2\/(store\/verify|me)$, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/footpath.js, requires-body=true

# Letterboxd
type=http-response, pattern= ^https:\/\/api\.letterboxd\.com\/api\/v0\/me$, script-path=https://raw.githubusercontent.com/SubTek/Egern/refs/heads/main/Scripts/Letterboxd.js, requires-body=true

[Header Rewrite]
^https?:\/\/(api\.(revenuecat|rc-backup)|isi\.csan\.goodnotes)\.com\/.+\/(receipts$|subscribers\/?(.*?)*$|offers$) request-header X-RevenueCat-ETag (.+) ->
^https?:\/\/(api\.(revenuecat|rc-backup)|isi\.csan\.goodnotes)\.com\/.+\/(receipts$|subscribers\/?(.*?)*$|offers$) request-header x-revenuecat-etag (.+) ->

[MITM]
hostname = %APPEND% hostname = *.intsig.net, *.camscanner.com, premium*.truecaller.com, app-subscription-proxy.accuweather.com, mb3admin.com, api-production.endel.io, game.codycross-game.com, api.facer.io, createpdf.acrobat.com, lcs-mobile-cops.adobe.io, iosgods.com, premium-api.myfitnesspal.com, api.deepfaker.app, ch.sleepcycle.com, api.flexibits.com, api.imem.apple.app, api.getmimo.com, firstclass.tripsy.app, isi.csan.goodnotes.com, api.footpathapp.com, purchase-verifier.cdwapi.com, api.revenuecat.com, lapi.photomath.net, api.rc-backup.com, buy.itunes.apple.com, api.picsart.com, api-account.kinemasters.com, us-central1-alight-creative.cloudfunctions.net, api.adapty.io, carrotweather.herokuapp.com, api-weather.andy.works, order.creativeappnow.com, api.mwm-users.com, us-central1-muslim-pro-app.cloudfunctions.net, prod.studysmarter.de, api.qonversion.io, subscription.grammarly.com, api.esound.app, api.purchasely.io, api.sandbox.love, subscriptions.songshift.com, api.adblockpro.app, mobile-api.adguard.org, api.letterboxd.com